<h1>
  0422
</h1>

SSH key란?

~~~
서버에 접속할 때 비밀번호 대신 key를 제출하는 방식입니다.
SSH key는 언제 사용하는가?
: 비밀번호보다 높은 수준의 보안을 필요로 할때
: 로그인 없이 자동으로 서버에 접속할 때
~~~

SSH Key가 동작하는 방식

~~~
SSH Key는 공개키(퍼블릭키)와 비공개키(프라이빗 키)로 이루어지는데 이 두개의 관계를 이해하는 것이 SSH key를 이해하는데 핵심입니다.
키를 생성하면 공개키와 비공개키가 만들어집니다.
이 중에 비공개키는 로컬 머신에 위치해야하고, 공개키는 리모트 머신에 위치해야합니다.
로컬 머신은 SSH Clientt, 원격머신은 SSH Server가 설치된 컴퓨터를 의미한다.

SSH 접속을 시도하면 SSH Client가 로컬머신의 비공개키와 원격 ㄱ머신의 빅공개키를 비교해서 둘이 일치하는지를 확인핣니다.
~~~

SSH key 만들기

~~~
SSH key를 통해서 서버에 접속 할 때 Unix계역(리눅슷, 맥)에서는 ssh-keygen이라는 프로그램을 이용하면 됩니다.
~~~

ssh-keygen

~~~
$ ssh-keygen
Generating public/private rsa key pair.
~~~

SSH키를 저장할 위치를 지정합니다.

엔터를 누르면 기본 경로로 저장됩니다.

기본 경로는 로그인 한 사용자의 홈디렉토리 아래의 .ssh입니다.

SSH Client는 기본적으로 이 디렉토리에 있는 키를 이용해서 인증을 시도합니다.



passphrase를 입력합니다.

일종의 비밀번호로 비공개키를 입력한 값으로 암호화합니다.

권장값은 10~30 문자이고 생략또한 가능합니다.

생략하면 이 부분이 보안 홀이 될 수 있긱 때문에 주의해야합니다.

자동 로그인을 원한다면 생략해야합니다.



비밀번호를 확인합니다. 같은 값을 입력하면 됩니다.

~~~
$ ls -al -/.ssh/
~~~

를 입력했을 때..

drwx——— 2 어쩌구저쩍구...

같은게 7줄정도 나오면 성공한것입니다.

~~~
id_rsa : 프라이빗키, 절대로 타인에게 노출하면 안됩니다.
id_rsa.pub : 퍼블릭키, 접속하려는 리모트 머신의 authorized_keys에 입력합니다.
authrized_keys : 리모트 머신의 .ssh디렉토리 아래에 위치하면서 id_rsa.pub키의 값을 저장합니다.
~~~



~~~
$ cd ~/.ssh
$ ls
authorized_keys2 id_dsa known_hosts config id_dsa.pub
~~~

공개키는 아래와같이 생겼습니다.

~~~
$ cat ~/.ssh/id_rsa.pub
ssh-rsa 어쩌구 저쩌구
~~~

