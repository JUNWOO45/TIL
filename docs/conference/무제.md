# NHN





## NHN Family Talk

nhn이 이러케 성장하고 있읍니다..



## 초청특강 Recommendation Systems : Concepts, Techniques, and Research Results

- 무슨말이지.. 어렵다....
- "Uninteresting items란 개념은 참으로 intersting하다..!"



## 점진적으로 프론트엔드 프레임워크 교체하기(AngularJS to Vue) - 유동식

### 1. 프레임워크 교체

#### 왜 바꿔요?

- 지원이 중단. 
  - 신규 기능 개발 어려워.
  - 커뮤니티에서도 서드파티 패키지 지원 중단

- 개선된 상태관리, 라우팅, 컴포넌트 기반 구조등 새로운 기능 사용할 수 없음.
- 성능이 느려지고 유연성, 확장성이 떨어짐
- 커리어에 도움이 되지않고 개발자 채용도 점점 어려워짐

#### 최신 프레임워크의 장점 수용

- 잘 관리됨, 안정성 높은 리액트, 뷰
- 코드 가독성과 컴포넌트 재사용성 증가
- 성ㅇ(라이브러리 크기, 메모리, 속도) 향상
- cli, storybook
- Single File component
- webpack을 통한 비동기 로딩 지원도 굳.

### 2. 왜 점진적인가?

#### 전면 교체는 리스크가 크다.

- 처음부터 다시 구현해야하며 디자인, 기능을 똑같이 구현해야한다.
- 시간이 오래걸리고 비용이 크다.
- 몇 년이 걸린다.
- 조금씩 바꾸어 나간다면 해볼만하지않을까?

#### 컴포넌트 단위로 분해하고 하나씩 정복

- 리스크를 줄이고 빠른 적용 및 배포
- 마이크로 프런트엔드
  - 웹페이지 내에서 영역을 구분, 독립적으로 개발, 그리고 합치는 개념.
  - 스샷.

#### 장점

- 리스크가 낮고 결과물을 빠르게 확인할 수 있다.

### 3. 교체 전 필수 준비 사항

#### 사전 기능 파악 철저

- 잘 정리된 문서와 꼼꼼한 기능 파악은 서비스의 안정성을 올린다.

- 필수 : 기획서확보, QA시트 확보, 설계문서, 기능파악

  - 서비스 기획서 확보

    - 모든 기능의 망라
    - 빠진 기능 하나도 없이.

  - QA 테스트 케이스 문서 확보

  - 코드를 통한 기능 파악

    - 문서를 통해서는 드러나지않는 부분.
    - ex) bootstrap -> material ui

    

### 4. 점진적으로 프레임워크 교체하기

#### 웹 페이지 구조 결정 과정

> 어떻게 한 페이지 내에서 두 프레임워크를 잘 돌릴까?

#### SPA포기, 별도 페이지 분리

장점 :

- 기존 구현과 명확히 분리
- js, css가 영향 주고받지 않음.
- webpack으로 페이지별로 사용되는 파일만 정확하게 번들 가능

단점 :

- spa 장점 사라짐
- 서비스 탭 클릭 시 페이지 깜빡
- 리소스를 새로 로딩해야하므로 spa대비 로딩 성능 저하



#### spa유지, iframe 사용

장점

- 기존 구현과 명확히 분리
- Js, css가 영향 주고 받지 않음.
- webpack으로 사용되는 파일만 정확하게 번들 가능

단점

- 리소스를 새로 로딩해야하므로 로딩 성능 저하
- 프레임 깜빡임현상 여전
- xss 보안에 더 취약
- 프레임 간 통신 방법에 제약(postMEssage)
- iframe내부 라우터를 모두 부모에서 처리해야한다.



#### angularjs 컴포넌트 내부에서 vue컴포넌트 

장점

- spa 유지, 깜빡임 없음
- 특ㅓㅇ 영역만 vue로 전환 용이. 멀티인스턴스 기능
- iframe 대비 가볍고 빠름



단점

- 라우터 관리는 angularJS에서만 하도록 처리 필요.
- js, css 용량이 늘어날 수 잇음(프레임워크 2개니깐.)
- css 충돌이 날 가능성이 큼(비슷한 이름으 ㅣ선택자를 사용할 가능성)

---

#### vue 다이나믹 컴포넌트를 사용하여 서비스별로 컴포넌트를 다르게 사용.

#### 비동기 컴포넌트 사용으로 필요할 때만 js 다운로드하게 한다.



#### 두 프레임워크 간 통신하는 방법(데이터를 주고 받는 방법)

1. vue의 리액티브 시스템 활용

- 리액티븟 시스템을 활용하여 라우터 데이터를 vue에게 계속 전달한다.
  - 관ㅅ미있는 라우터 상태가 변경되면 props 데이터를 변경한다.

1. Vuex dispatch, commit 사용

1. event를 사용해서 앵귤러에서 event를 수신.

---

#### storybook 꼭 사용하세요.

---

### 5. 성능비교

#### 회기테스트

사전 성능 파악이 중요한게 여기서 드러남.



#### 용량

- Vue 와 element-ui를 추가했음에도 리소스 용량이 큰 변화가 없다.

#### 로딩성능 테스트

- DCL(domcontentloaded) : html용량은 변화가 없어서 변화x
- L(load):소폭하락.
- FMP(first meaningful paint): 2초나 빨라짐
  - 왜?
  - 개발자도구에서 퍼포먼스 비교.
  - ui-grid 라이브러리의 비동기 로딩 및 초기화가 제거되어서 줄어든듯.





## 실용적인 프론트엔드 테스트 전략



## 레거시 웹 서비스 길들이기 : 서버개발자의 SPA 적용기



## 한 번 더 듣는 '깃' 깔나는 Git 워크플로 알아보기

