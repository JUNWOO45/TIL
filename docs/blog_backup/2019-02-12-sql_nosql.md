---
layout: post
title: SQL과 NoSQL
tags: [database]
comments: true
---

The Big Differences

- The Language

  ```
  모두가 같은 언어를 사용하는 A마을이 있습니다.
  모든 사업과, 커뮤니케잇녀의 형태가 이 언어를 기반으로 이루어져있습니다.
  주민들이 이해하고 반응하는 유일한 언어입니다.
  한 군데에서 언어를 바꿔버리면, 모두가 혼란을 겪게 됩니다.
  
  그리고 다른 마을 B가 있습니다.
  모두가 다른 언어를 사용하는 마을입니다.
  이 마을에는 공용어가 없어서, 서로 다른 언어를 사용하죠.
  한 군데에서 언어가 바뀌더라도 별 문제 없습니다.
  ```

- SQL database

  SQL데이터베이스는 데이터를 정의하고 조작할때 구조화된 쿼리언어(SQL)을 사용합니다.

  SQL은 복잡한 쿼리에대해 안전한 선택이 될 수 있는 다재다능하고 널리 알려진 강력한 옵션 중 하나입니다.

  반면에, SQL은 굉장히 제한적입니다.

  SQL을 사용하기 전에 미리 정의된 스키마를 사용하여 데이터구조를 결정해야만합니다.

  게다가, 모든 데이터는 동일한 구조를 따라야합니다.

  하나의 구조변화가 모든 시스템에 복잡함과 어려움을 야기하게됩니다.

- NoSQL database

  반면에 NoSQL 데이터베이스는 구조화되지않은 데이터에대한 다이나믹한 스키마를 가지고 있으며, 데이터는 다음과같은 다양한 방식으로 저장됩니다 : column-oriented, document-oriented, graph-based, KeyValue store.

  이러한 유연함은 다음을 의미합니다.

  - 구조를 먼저 정의할 필요없이 문서를 작성할 수 있습니다.
  - 각각의 문서는 그들 자신만의 구조를 가질 수 있습니다.
  - 문법은 데이터베이스마다 다를 수 있습니다.

  

- 확장성

대부분의 경우, SQL 데이터베이스는 수직확장이 가능하기때문에 CPU, RAM, SSD와같은 것을 증가시킴으로써 단일 서버의 부하를 증가시킬 수 있습니다.

반면에, NoSQL데이터베이스는 수평으로 확장 가능합니다.

즉, NoSQL데이터베이스에 서버를 더 추가하거나 샤딩하여 더 많은 트래픽을 처리할 수 있게됩니다.

이러한 차이는 같은 건물에 층을 늘리는 것과, 건물 옆에 건물을 새로 추가하는 차이와 같습니다.

후자는 궁극적으로 더 크고 더 강력해질 수 있어서, NoSQL데이터베이스는 크고 변화무쌍한 데이터세트에 선호되고 있습니다.



- 구조

  SQL데이터베이스는 테이블 기반의 데이터베이스입니다.

  반면에, NoSQL데이터베이스는 문서기반, 키-밸류, 그래프 데이터베이스, 또는 wide-column store중 하나입니다.

  이를 통해 관계형 SQL데이터베이스는 회계 시스테과같은 다중 row트랜잭션이 필요한 애플르케이션이나 관계구조를 위해 구축된 legacy 시스템에 더 나은 옵션이 됩니다.

  SQL데이터베이스의 예로는 MySQL, Oracle,PostgreSQL, Microsoft SQL Server등이 있습니다.

  NoSQL데이터베이스의 예로는 MongoDB, BigTable,Redis,RavenDB 카산드라, HBase,Neo4j, CouchDB등이 있습니다.

  

- 그렇다면 어떤 데이터베이스가 비즈니스에 적합할까?

  MySQL은 사전 정의된 구조에서 이익을 얻고 스키마를 성정하는 어떤 사업에도 강력한 선택이 될 수 있습니다.

  예를 들어, 회계시스템이나 재고를 모니터링하는 시스템같이 다중 행 트랜잭션이 필요한 애플리케이션이나 기존 시스템에서 실행되는 애플리케이션은 MYSQL구조에 적합할 것입니다.

  반명, mongoDB는 스키마 정의가 명확하지 않은 데이터베이스나 급성장하는 기업에는 좋은 성택이됩니다.

  좀 더 구체적으로, 당신의 데이터베이스에대한 스키마를 정의할 수 없다면, 당신이 데이터 스키마를 정규화하지 않는것을 발견한다면, 당신의 스키마가 계쏙 변경되는 것을 발견한다면, 종종 모바일 앱, 실시간 분석, 콘텐츠 관리 시스템이 그러하듯 mongoDB는 강력한 선택이 될 수 있습니다.



<h3>
    NoSQL 패턴
</h3>

1. key/value databases

   가장 기본적인 패턴입니다.

   Unique한 키값에 하나의 value를 가지고 있는 형태입니다.

2. document databases

   key/value store의 확장된 형태로, 기본적으로는 key/value store와 같습니다.

   key에 해당하는 value필드에 데이터를 저장하는 구조는 같으나, 저장되는 데이터타입이 document타입이라는 점이 다릅니다.

   document 타입은 XML, JSON과 같은 데이터 타입으로, 복잡한 계층 구조를 표현할 수 있습니다.

3. column family stores

   행과 열로 구성된 데이터베이스입니다.

4. graph databases

   어떤 독립된 정보와 다른 정보사이의 관계를 잘 표현할 수 있는 구조입니다.

