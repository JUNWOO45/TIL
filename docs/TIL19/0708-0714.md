# 0708

<mark>npm install</mark>을 해보면서 --save 옵션의 차이가 뭔지 의문이 들어서 찾아봤더니....

[npm 5.0.0](https://blog.npmjs.org/post/161081169345/v500) 무려 2년전 바뀐 사항을 전 모르고 있었네요 -_-

```
"npm will --save by default now."
```

예전에는 <mark>npm install</mark> 을 하면 node_modules에만 추가해주고, package.json의 dependencies에 따로 추가했어야 봅니다.

그 당시에는 <mark>--save</mark> 옵션을 사용해서 package.json의 dependencies에 추가하는걸 자동으로 진행했지만...

이제는 --save옵션이 더 이상 필요 없겠네요!(다른 곳에 사용되고 있는지 찾아봐야겠습니다..)



---

# Webpack

웹팩이란?

- 서로 연관 관계가 있는 웹 자원들을 js, css, img와 같은 static한 자원으로 변환시켜주는 모듈 번들러

  

웹팩 철학

1. 모든 웹 자원(html, css ,js)을 모듈형태로 로딩 가능

   ```
   require('base.css');
   require('main.js');
   ```

2. 초기에 모두 로딩하지 않고, 필요할 때 필요한 것만 로딩하여 사용



###webpack.config.js를 설정해주지않고 진행을 하면서,

```
$ webpack app/index.js dist/bundle.js
```

로 실행하니 에러.



```
$ webpack app/index.js --output dist/bundle.js --mode development
```

이렇게 실행해줘야 되네..

app/index.js는 번들링할 대상이고, dist/bundle.js는 결과물.



### webpack.config.js를 설정.

```
// webpack.config.js

var path = require('path');

module.exports = {
  entry: './app/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist')
  }
};

```

<mark>$ webpack</mark> 을 실행하면 웹팩은 항상 webpack.config.js를 찾아서 정해진 옵션대로 실행한다고 합니다.



실행해보니.....

에러가 또 뜨네요.

```
ERROR in Entry module not found: Error: Can't resolve './src' in '/Users/...../getting-started'
```

검색해보니깐 [이런 글](https://github.com/webpack/webpack/issues/6858) 이 또 있네욤

```
"webpack searches for src/index.js. The file does not exist so it throws an error. Moreover, .jsx are not handled without a loader."
```

그래서 설정을 바꿔봤습니다.

```
// webpack.config.js

var path = require('path');

module.exports = {
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist')
  }
};
```

entry를 app/index.js에서 src/index.js로 바꾸고, 폴더 이름도 수정해준다음에

```
$ webpack
```

을 실행해주니 잘 됩니다!

dist/bundle.js라는 파일로 import했던 lodash, index.js가 모두 합쳐져있네요.



간략하게 요약해보면,

1. npm init -y 으로 package.json생성
2. npm install webpack webpack-cli로 로컬에 webpack과 webpack-cli 설치
3. webpack.config.js설정
4. 번들링 테스트

