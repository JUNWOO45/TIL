# 1007



지난 주말에 처음으로 기술포스팅 번역을 해봤는데, 너무 의역을 많이 한건 아닌가 싶다 -_-;;

심지어 제목부터 frontend app's performance 라는 말이 들어가있는데..

'프론트엔드 앱의 성능'으로 그대로 번역을 하려니깐 '프론트엔드 앱? 뭔가 말이 이상한데.. 프론트엔드가 없는 앱도 있는걸까?' 라는 의문이 들었다.

그래 '앱의 프론트엔드 성능'이라고 바꿨는데...

음.......... 

그동안 번역 포스트를 보면 원문은 잘 확인하지않았는데, 번역을 많이 하시는 개발자들의 번역포스트와 그 원문은 어떻게 다른지 기회가 될때마다 비교해보기도 해야겠다;_;

---

```
- https://medium.com/free-code-camp/how-to-conditionally-build-an-object-in-javascript-with-es6-e2c49022c448
- https://www.youtube.com/watch?v=-vR3a11Wzt0
```



---

# 리얼리눅스

## `git commit --amend`

이미 push된 가장 최신의 커밋을 수정함.

"최신 커밋에 흡수된다." 정도로 생각해도 됨.

대신에 커밋마다 원래 고유의 아이디가 있는데,커밋이 바뀌며 커밋 아이디가 변경되게됨.

이때는 `git push origin master` 를 하면 충돌이 난다.

왜?

base가 바뀌니깐.

base가 똑같아야 아무 오류없이 push를 할 수 있음.ㅇㅇ

그래서 강제로 push를 해주어야함.

`git push origin master --force`



> 깃헙이 꼬였어요. 이거 어떻게 풀어야해요?

-> 로컬에서 푼 다음에 강제로 밀어 넣어야함. 그게 `git push origin master --force` 고.

로컬에서 다~ 수정해서 강제로 올리는게, 깃헙을 푸는 것과 마찬가지.ㅇㅇ (당연하지)



대형프로젝트 메인테이너들은 `--force` 를 하지않음.

메인테이너가 --force 를 해서 base를 바꿔버리면(커밋 아이디들이 변경되어 버리면) 수많은 컨트리뷰터들이 다 충돌남.

그렇다고 `--force` 를 아예 쓰지 않느냐?

그건 ㄴㄴ. 생각보다 자주씀.

PR을 보낼때 (upstream, origin, local이 존재할 때), 리뷰를 받고 PR을 보내게되는데.

이때 나의 원격 저장소에게는 `--force` 써두 됨.

```
음..무슨상황인지 이해가 잘 안가네.
```



### upstream이 수정되었을때는 어떻게 해야할까?

`git fetch upstream master`

`git rebase upstream/master`

이러면 로컬에 갱신이 됨.

이제 origin을 갱신시켜줘야함.

`git push origin master --force`

---

`rebase`와 `rebase -i`의 차이점은?

`-interactive` 는 되감기로 생각하면 됨.



---

내가 블로그에 정리한 fork한 저장소를 최신 원본과 합치는 방법이 엄밀하게 말하면 잘못된 이유.

rebase는 merge와는 다르다.

rebase는 정말 base를 고쳐야 한다는 의미이기때문에.

게다가 merge를 해버리면 커밋메세지도 남으니깐.

코드를 새로 업데이트시켜준다는건 같을 수 있지만, 엄밀한 목적이 다르다.

오옹..

---

커밋 지우기  : `git reset --hard HEAD~1`

전체 복구하기 : `git reset --hard origin/master`

rebase 취소 : `git rebase --abort`



---

`git rebase -i` 를 해서 `edit` 의 갯수만큼 `git rebase --continue` 로 풀어줘야함.

ㅇㅎ.... `edit` 을 여러개 할 수 있구나. 맞네.



---

### organization으로 협업해봐서 생긴문제

1.`git fetch upstream master` 로 fetch해오고.

2.`git rebase upstream/master`로 로컬 master에 땡겨온 upstream을 rebase했음.

3.`conflict`

4.`conflict` 풀고. `git add *` 이후 `git commit -m "Upload"`

5.`git push origin master` 하려니깐 이미 최신업데이트라고함.

6.`git status` 해보니깐,

```
rebase in progress; onto 5db8753
You are currently rebasing branch 'master' on '5db8753'.
  (all conflicts fixed: run "git rebase --continue")

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)
```

rebase가 진행중이라고 뜸.

7.게다가 브랜치도 `master` 가 아니라 임시브랜치.

8.`git rebase --abort`로 `rebase`취소하고 다시 진행.

9.`git rebase upstream/master` 로 로컬에 땡겨옴.

10.`conflict`

11.`conflict` 해결하고. `git add *` 하고 `git rebase --continue`로 풀어주었음

그리고 `git commit` 해주고 `git push origin master` 로 해결..

> conflict이 발생하면 rebase가 완료되지 못하나?
>
> 그런듯.



---

# 1008

하 오늘 하루종일 Cyclic Dependency와 싸웠다...-_-;;

이런 문제와 만나지않으려면 어떻게 구조를 짰어야했을까?

모듈별로 모두 나누고, 각각의 모듈에게는 오로지 주 관심사만 처리하도록 하고.

공통적인 부분은 서비스로 모두 빼내버려야하나

감이 오질않는다.

이런 큰 그림도 공부를 해야할듯하다.. 

Cyclic Dependency를 결국 해결 못한 이유는.

 A -> B -> A 의 구조에서 A나 B를 C로 빼내는 방식으로 진행했는데

A와 B도 너무 많은 dependency가 걸려있었고, 그것들을 감자뿌리뽑듯이 해결 못햇음.

어쩌면 방향을 잘못 잡았을 수 도 있다.

https://blog.angularindepth.com/how-to-break-a-cyclic-dependency-between-es6-modules-fd8ede198596



---

# 개발 환경 설정



### homebrew

: 맥용 패키지 매니저

#### 설치

```
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

:루비를 이용해서 설치



#### 확인

```
brew doctor
```



### git

: macOS에 이미 설치되어있을테지만 최신버전은 아닙니다.

#### 설치

```
brew install git git-lfs
```



### iTerm2

#### 설치

```
brew cask install iterm2
```

#### zsh 최신버전으로 업데이트하고 zsh-completions설치

```
brew install zsh zsh-completions
```

#### oh-my-zsh 설치

```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

