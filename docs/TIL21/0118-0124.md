# 0119



# HTTP 메소드의 속성

## 1.안전

- 호출해도 리소스를 변경하지 않는다.
  ex) GET 요청? 안전. POST 요청? 안전하지않다.



## 2. 멱등

-  한 번 호출하든, 두 번 호출하든, 100번 호출하든 결과는 똑같아야한다.
  - GET: 멱등하다.
  - PUT: 멱등하다.
  - DELETE: 멱등하다.
  - POST: 멱등하지않다. 같은 결제가 중복해서 발생할 수 있다.
- 이걸 어따 써먹나?
  - 자동 복구 메커니즘에 활용할 수 있다.
    서버가 타임아웃 등의 이유로 정상 응답을 내려주지 못했을 때, 멱등하다면 같은 요청을 다시해도 된다는 판단 근거가 될 수 있다!

## 3. 캐시가능

- 응답 결과를 캐시해서 사용해도 되는가?
- 스펙 상 GET, HEAD, POST, PATCH 가 가능하다.
  하지만 현실적으로 GET, HEAD정도만 캐시가 가능하다.
  POST, PATCH는 본문 내용까지 캐시 키로 고려해야하는데 구현이 쉽지않아서, 대부분 사용하지 않는다.



# 0120

## 데이터를 전달하는 방식

클라이언트에서 서버로 데이터를 전달하는 방식에는 크게 2가지가 있다.

### - 쿼리 파라미터를 사용하는 방식

- GET 메소드



### - 메시지 바디를 사용하는 방식

- POST, PUT, PATCH 메소드

<br>

---

## 컨트롤 URI

HTML FORM같은 경우는 GET, POST 메소드만 사용가능

표현의 한계가 있기때문에 이런경우에는 어쩔수 없이 **컨트롤 URI** 를 사용해야한다.

### 컨트롤 URI ?

- 동사로 된 리소스 경로를 사용하는 것을 의미한다.
- POST members/${id}/upgrade
  POST members/startProcess 



## URI 설계 개념

- 문서(document)
  - 단일 개념(파일 하나, 객체 인스턴스, 데이터베이스 row)
  - ex) /items/37, /files/fire.png
- 콜렉션(collection)
  - 서버가 관리하는 리소스 디렉토리
  - 서버가 리소스의 URI를 생성하고 관리한다.
  - ex) POST /items -> /items/37
  - 대부분 콜렉션을 사용한다.
- 스토어(store)
  - 클라이언트가 관리하는 자원 저장소
  - 클라이언트가 리소스의 URI를 알고 관리한다.
  - ex) PUT /items/37
  - 파일 덮어쓰기 등 에서 사용할 수 있다.
- 컨트롤러, 컨트롤 URI
  - 문서, 콜렉션, 스토어로 해결하기 어려운 추가 프로세스를 실행한다.
  - 동사를 직접 사용한다.
  - ex) POST /items/37/delete