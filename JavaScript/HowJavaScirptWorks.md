<h1>자바스크립트는 어떻게 동작하는가?</h1>



<h3>
  자바스크립트 엔진
</h3>

: 자바스크립트 엔진의 대표적인 예는 Google V8엔진입니다.

V8은 Chrome과 Node.js에서 사용합니다.

엔진에게는 두가지 주요 구성요소가 있습니다.

메모리 할당이 일어나는 Memory Heap과 코드 실행에따라 호출 스택이 쌓이는 Call Stack입니다.



<h3>
  런타임
</h3>

: 거의 모든 자바스크립트 개발자들은 setTimeout같은 브라우저 내장 API를 사용합니다.

하지만 이 API를 자바스크립트 엔진에서 제공하지는 않습니다.

그럼 얘네는 어디서 올까요?

자바스크립트 엔진 이외에도 자바스크립트에 관여하는 요소들은 굉장히 많습니다.

DOM, Ajax, setTimeout같은 브라우저에서 제공하는 API들을 Web API라고 합니다.

그리고 Event Roop와 Callback Que도 있습니다.



<h3>
  Call Stack(호출 스택)
</h3>

: 자바스크립트는 기본적으로 싱글 쓰레드 기반의 언어입니다.

이 말은 "호출 스택이 하나"라는 소리입니다.

따라서 한번에 한가지의 작업만 할 수 있습니다.

호출 스택은 기본적으로 우리가 프로그램 상에서 어디에 있는지를 기록하는 자료구조입니다.

만약 함수를 실행하면, 해당 함수는 호출 스택의 가장 상단에 위치하게됩니다.

함수의 실행이 끝날때(리턴 값을 돌려줄 때), 해당 함수를 호출 스택에서 제거합니다.

이것이 호출스택의 역할이죠.



<h1>
  동시성(Concurrency) & 이벤트루프(Event Loop)
</h1>

: 호출 스택에 처리 시간이 어마어마하게 오래 걸리는 함수가 있으면 무슨 일이 발생할까요?

호출 스택에서 해당 함수가 실행되는 동안 브라우저는 아무 작업도 못하고 대기 상태가 됩니다.

매끄럽고 자연스러운 화면 UI를 가진 앱을 원한다면 위 경우는 문제가 됩니다.

그렇다면, 어떻게 페이지 렌더링 동작을 방해하지 않고 브라우저의 응답도 끊지 않으면서 연산량이 많은 코드를 실행할 수 있을까요?

정답은 "비동기 콜백"입니다!

매